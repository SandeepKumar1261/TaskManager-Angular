<div class="todo-list-container">
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search tasks..."
      [(ngModel)]="searchTerm"
      (input)="filterTasks()"
    />
    <button class="add-task-btn" (click)="navigateToAddTask()">Add Task</button>
  </div>

  <ul class="todo-list">
    @for (todo of filteredtasks; track todo._id) {
    <li class="todo-card">
      <h3>{{ todo.title }}</h3>
      <p>{{ todo.description }}</p>
      <span
        class="status"
        [ngClass]="todo.completed ? 'completed' : 'in-progress'"
      >
        {{ todo.completed ? 'Completed' : 'In Progress' }}
      </span>
      <div class="todo-actions">
        <button
          class="edit-btn"
          (click)="navigateToEditTask(todo)"
          title="Edit Task"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          class="delete-btn"
          (click)="deleteTask(todo._id)"
          title="Delete Task"
        >
          <i class="fas fa-trash"></i>
        </button>
      </div>
    </li>
    } @empty {
    <p class="todo-empty">No tasks found.</p>
    }
  </ul>
</div>
